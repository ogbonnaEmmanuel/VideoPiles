(this.webpackJsonphomepage=this.webpackJsonphomepage||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},37:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),c=n.n(i),o=n(10),a=n.n(o),s=(n(25),n(26),n(4)),l=n(5),d=n(7),p=n(6),u=(n(27),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"main_logo",id:this.props.logo_id,children:[Object(r.jsx)("p",{children:"VIDEOPILE"}),Object(r.jsx)("p",{className:"material-icons icon_play",children:"play_circle_filled"})]})}}]),n}(c.a.Component)),j=function(){return Object(r.jsxs)("nav",{children:[Object(r.jsx)("div",{id:"logo",children:Object(r.jsx)(u,{logo_id:"logo_img"})}),Object(r.jsx)("div",{id:"pile_log",children:Object(r.jsxs)("div",{id:"pile_container",children:[Object(r.jsx)("div",{className:"pile",id:"first_pile"}),Object(r.jsx)("div",{className:"pile",id:"second_pile"}),Object(r.jsx)("div",{className:"pile",id:"third_pile"}),Object(r.jsx)("div",{className:"pile",id:"fourth_pile"}),Object(r.jsx)("div",{className:"pile",id:"fifth_pile"})]})})]})},b=(n(28),function(){return Object(r.jsx)("div",{id:"hero",children:Object(r.jsxs)("div",{id:"hero_container",children:[Object(r.jsx)("div",{id:"logo_aligner",children:Object(r.jsx)(u,{logo_id:"hero_logo"})}),Object(r.jsx)("p",{id:"hero_text",children:"CUT YOUR LONG VIDEOS INTO PILES"}),Object(r.jsx)("div",{id:"bar_guide"})]})})}),_=(n(29),n(30),n(8)),h=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).handleVideoPileInput=function(t){var n=t.target.value;e.props.update_pile_input(n)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{id:"search_bar",children:Object(r.jsx)("form",{id:"search_form",children:Object(r.jsx)("input",{type:"number",id:"search_area",onKeyUp:this.handleVideoPileInput,placeholder:"INPUT THE NUMBER OF PILES"})})})}}]),n}(c.a.Component),m=Object(_.b)(null,(function(e){return{update_pile_input:function(t){return e({type:"pile_input",pile_input:t})}}}))(h),O=(n(37),n(18)),f=n(2),v=n(19),x=(n(64),{mp4:"mp4",mpeg4:"mpeg4"}),g="",y={file_size_error:"file size is greater than ".concat(100),invalid_video_error:"video type not supported",invalid_pile_error:"pile number is greater than ".concat(5),empty_pile_error:"please fill in pile number"},N=function(e,t,n){var r;return r=t,Math.round(r/1048576)>100&&(g=y.file_size_error),function(e){e.split("/")[1]in x||(g=y.invalid_video_error)}(e),function(e){e>5?g=y.invalid_pile_error:""===e&&(g=y.empty_pile_error)}(n),g},w=(n(65),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).CloseErrorModal=function(){e.props.close_error_modal(!1,"")},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("error_counter"),t=0,n=setInterval((function(){t+=1,e.textContent=t,5===t&&(clearInterval(n),window.location.reload(!1))}),1e3)}},{key:"render",value:function(){return Object(r.jsx)("div",{id:"myModal",className:"error_modal",children:Object(r.jsx)("div",{className:"error_container",children:Object(r.jsxs)("div",{className:"error_content",children:[Object(r.jsx)("p",{className:"material-icons center_element error_icon",children:"warning"}),Object(r.jsx)("p",{className:"center_element",id:"snap_text",children:"oh snap!"}),Object(r.jsx)("p",{className:"center_element",id:"error_text",children:this.props.error_msg}),Object(r.jsx)("div",{className:"dismiss_counter_container",children:Object(r.jsx)("div",{className:"dismiss_counter",children:Object(r.jsx)("p",{id:"error_counter",children:"1"})})})]})})})}}]),n}(c.a.Component)),k=Object(_.b)((function(e){return{error_msg:e.error_state.message}}),(function(e){return{close_error_modal:function(t,n){e({type:"error_state",error_state:t,error_msg:n})}}}))(w);function I(){var e=Object(O.a)(["\n  display: block;\n  margin-top: 10px;\n  margin-bottom: 20px;\n"]);return I=function(){return e},e}var C=Object(f.css)(I()),E=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).processAnimation=function(e){var t=document.getElementById("file_label"),n=document.getElementById("download_icon");!0===e?(t.style.display="none",r.setState({loading:!0})):(t.style.display="none",r.setState({loading:!1}),n.style.display="block")},r.handleFile=function(){var e=document.querySelector('input[type="file"]').files[0],t=e.type,n=e.size,i=r.props.pile_input,c=N(t,n,i);if(r.processAnimation(!0),c)r.props.open_error_modal(!0,c);else{r.setState({upload_feedback:"processing video..."});var o=new FormData;o.append("max_division",i),o.append("video_file",e),fetch("/process_video/",{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){r.processAnimation(!1),r.setState({zip_file_path:e.file_path,upload_feedback:"download your video"}),console.log(e)})).catch((function(e){r.processAnimation(!1);r.props.open_error_modal(!0,"Unable to edit video")}))}},r.DownloadVideo=function(){var e=r.state.zip_file_path,t=new FormData;r.setState({upload_feedback:"Processing request..."}),t.append("zip_file_path",e),fetch("/download/",{method:"POST",body:t}).then((function(e){e.blob().then((function(e){var t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t,n.setAttribute("download","user_video.zip"),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n),window.location.reload(!1)}))}))},r.handleFile=r.handleFile.bind(e),r.processAnimation=r.processAnimation.bind(e),r.state={loading:!1,zip_file_path:"",upload_feedback:"UPLOAD YOUR VIDEO"},r}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{id:"upload_border",children:Object(r.jsxs)("div",{id:"upload_process",children:[Object(r.jsx)("p",{id:"upload_feedback",className:"center_element",children:this.state.upload_feedback}),Object(r.jsx)("label",{htmlFor:"file",id:"file_label",children:Object(r.jsx)("span",{className:"material-icons center_element process_icon",id:"folder_icon",children:"folder_open"})}),Object(r.jsx)("p",{className:"material-icons center_element process_icon",id:"download_icon",onClick:this.DownloadVideo,children:"cloud_download"}),Object(r.jsx)("form",{id:"video_form",children:Object(r.jsx)("input",{type:"file",id:"file",accept:".mp4",onChange:this.handleFile})}),Object(r.jsx)("div",{className:"center_element",children:Object(r.jsx)(v.HashLoader,{css:C,size:90,color:"#fff",loading:this.state.loading})})]})}),this.props.error_state?Object(r.jsx)(k,{}):""]})}}]),n}(c.a.Component),S=Object(_.b)((function(e){return{error_state:e.error_state.open,pile_input:e.pile_input}}),(function(e){return{open_error_modal:function(t,n){return e({type:"error_state",error_state:t,error_msg:n})}}}))(E),F=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{id:"middle_bar",children:Object(r.jsxs)("div",{id:"upload_area",children:[Object(r.jsxs)("div",{className:"rule_container",children:[Object(r.jsx)("p",{className:"rule_box"}),Object(r.jsx)("p",{className:"rule_text",children:"max division (5) "})]}),Object(r.jsxs)("div",{className:"rule_container",children:[Object(r.jsx)("p",{className:"rule_box"}),Object(r.jsx)("p",{className:"rule_text",children:"max file size 100mb"})]}),Object(r.jsxs)("div",{className:"rule_container",children:[Object(r.jsx)("p",{className:"rule_box"}),Object(r.jsx)("p",{className:"rule_text",children:"file type (mp4,mpeg-4)"})]}),Object(r.jsx)(S,{})]})})}}]),n}(c.a.Component),P=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("section",{id:"upload_section",children:Object(r.jsxs)("div",{id:"upload_border",children:[Object(r.jsx)(m,{}),Object(r.jsx)(F,{})]})})}}]),n}(c.a.Component);var z=function(){return Object(r.jsx)("div",{children:Object(r.jsxs)("header",{children:[Object(r.jsx)(j,{}),Object(r.jsx)(b,{}),Object(r.jsx)(P,{})]})})},A=n(11),D=n(9),L={error_state:{open:!1,message:""},pile_input:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"error_state":var n=e.error_state;return n.open=t.error_state,n.message=t.error_msg,Object(D.a)(Object(D.a)({},e),{},{error_state:n});case"pile_input":var r=t.pile_input;return Object(D.a)(Object(D.a)({},e),{},{pile_input:r});default:return e}},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),c(e),o(e)}))},B=Object(A.b)(U);a.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(_.a,{store:B,children:Object(r.jsx)(z,{})})}),document.getElementById("root")),T()}},[[66,1,2]]]);
//# sourceMappingURL=main.c33d84e6.chunk.js.map